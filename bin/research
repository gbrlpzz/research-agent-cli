#!/bin/bash
# Research CLI - paper discovery and citation management

REPO_ROOT="$HOME/Documents/GitHub/research"
VENV="$REPO_ROOT/.venv"
PYTHON="$VENV/bin/python"

# Show usage if no args
if [ -z "$1" ]; then
    echo "Usage:"
    echo "  research <query>        Search and add papers from Semantic Scholar"
    echo "  research cite [query]   Search master.bib and copy citation keys"
    echo ""
    echo "Examples:"
    echo "  research \"attention mechanism\"    # Find papers about attention"
    echo "  research cite                      # Browse all citations"
    echo "  research cite egger                # Find citations by Egger"
    exit 0
fi

# Handle subcommands
case "$1" in
    cite)
        shift  # Remove 'cite' from args
        "$PYTHON" "$REPO_ROOT/scripts/cite.py" "$@"
        ;;
    *)
        # Default: search papers
        "$PYTHON" "$REPO_ROOT/scripts/discover.py" "$@"
        ;;
esac
